<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<!--     <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <title>BTC PayWall</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="http://bootswatch.com/united/bootstrap.min.css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

  </head>
  <body>
    <h1>Hello, world!</h1>

    <!-- NEED TO DYNAMICALLY insert btc address here -->
    <p>Deposit bitcoin here: <span class='depositAddress'> Placeholder</span></p>
    <button class='btn btn-warning btn-group-lg deposit'>DEPOSIT BITCOIN HERE</button>

    <!--<script src="/clientScript/script.js"></script> not linking correctly-->
    <script type="text/javascript">
    var serverUrl = 'http://localhost:3000/address'
    var appendDepositAddress = function(address){
      $('.depositAddress').text("").text(address);
    }

    var getAddress = function(url){
      console.log("invoked getAddress");
      $.ajax({
        type: "GET",
        url: url,
        success: function(data){
          console.log("this is resp from /addres: ", data);
          appendDepositAddress(data);
        },
        dataType: 'JSON'
      });
    }

    // var postRequestOfDeposit = function(url){
    //   $.ajax({
    //     type: "POST",
    //     url: url,
    //     data: data,
    //     success: success,
    //     dataType: dataType
    //   });
    // }
     $(document).ready(function(){
      getAddress(serverUrl);
      // $('.deposit').on
     })
    </script>
  </body>
</html>
